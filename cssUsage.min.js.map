{"version":3,"sources":["cssUsage.src.js"],"names":[],"mappings":"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","file":"cssUsage.min.js","sourcesContent":["void function() {\r\n\r\n\tvar _ = (a => new ArrayWrapper(a));\r\n\t_.mapInline = mapInline;\r\n\t_.map = map; /*.......*/ map.bind = (()=>map);\r\n\t_.filter = filter; /*.*/ filter.bind = (()=>filter);\r\n\t_.reduce = reduce; /*.*/ reduce.bind = (()=>reduce);\r\n\twindow.CSSUsageLodash = _;\r\n\t// test case: \r\n\t// 35 = CSSUsageLodash([1,2,3,4,5]).map(v => v*v).filter(v => v%2).reduce(0, (a,b)=>(a+b)).value()\r\n\t\r\n\tfunction ArrayWrapper(array) {\r\n\t\tthis.source = array;\r\n\t\tthis.mapInline = function(f) { mapInline(this.source, f); return this; };\r\n\t\tthis.map = function(f) { this.source = map(this.source, f); return this; };\r\n\t\tthis.filter = function(f) { this.source = filter(this.source, f); return this; };\r\n\t\tthis.reduce = function(v,f) { this.source = reduce(this.source, f, v); return this; };\r\n\t\tthis.value = function() { return this.source };\r\n\t}\r\n\t\r\n\tfunction map(source, transform) {\r\n\t\tvar clone = new Array(source.length);\r\n\t\tfor(var i = source.length; i--;) {\r\n\t\t\tclone[i] = transform(source[i]);\r\n\t\t}\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tfunction mapInline(source, transform) {\r\n\t\tfor(var i = source.length; i--;) {\r\n\t\t\tsource[i] = transform(source[i]);\r\n\t\t}\r\n\t\treturn source;\r\n\t}\r\n\t\r\n\tfunction filter(source, shouldValueBeIncluded) {\r\n\t\tvar clone = new Array(source.length), i=0;\r\n\t\tfor(var s = 0; s <= source.length; s++) {\r\n\t\t\tvar value = source[s];\r\n\t\t\tif(shouldValueBeIncluded(value)) {\r\n\t\t\t\tclone[i++] = value\r\n\t\t\t}\r\n\t\t}\r\n\t\tclone.length = i;\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tfunction reduce(source, computeReduction, reduction) {\r\n\t\tfor(var s = 0; s <= source.length; s++) {\r\n\t\t\tvar value = source[s];\r\n\t\t\treduction = computeReduction(reduction, value);\r\n\t\t}\r\n\t\treturn reduction;\r\n\t}\r\n\t\r\n}();\r\n/*!\r\n * Based on:\r\n * https://github.com/gilmoreorless/css-shorthand-properties\r\n * MIT Licensed: http://gilmoreorless.mit-license.org/\r\n */\r\nvoid function () {\r\n    /**\r\n     * Data collated from multiple W3C specs: http://www.w3.org/Style/CSS/current-work\r\n     */\r\n    var shorthands = this.shorthandProperties = {\r\n\t\t\r\n        // CSS 2.1: http://www.w3.org/TR/CSS2/propidx.html\r\n        'list-style':          ['-type', '-position', '-image'],\r\n        'margin':              ['-top', '-right', '-bottom', '-left'],\r\n        'outline':             ['-width', '-style', '-color'],\r\n        'padding':             ['-top', '-right', '-bottom', '-left'],\r\n\r\n        // CSS Backgrounds and Borders Module Level 3: http://www.w3.org/TR/css3-background/\r\n        'background':          ['-image', '-position', '-size', '-repeat', '-origin', '-clip', '-attachment', '-color'],\r\n\t\t'background-repeat':   ['-x','-y'],\r\n\t\t'background-position': ['-x','-y'],\r\n        'border':              ['-width', '-style', '-color'],\r\n        'border-color':        ['border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color'],\r\n        'border-style':        ['border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style'],\r\n        'border-width':        ['border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'],\r\n        'border-top':          ['-width', '-style', '-color'],\r\n        'border-right':        ['-width', '-style', '-color'],\r\n        'border-bottom':       ['-width', '-style', '-color'],\r\n        'border-left':         ['-width', '-style', '-color'],\r\n        'border-radius':       ['border-top-left-radius', 'border-top-right-radius', 'border-bottom-right-radius', 'border-bottom-left-radius'],\r\n        'border-image':        ['-source', '-slice', '-width', '-outset', '-repeat'],\r\n\r\n        // CSS Fonts Module Level 3: http://www.w3.org/TR/css3-fonts/\r\n        'font':                ['-style', '-variant', '-weight', '-stretch', '-size', 'line-height', '-family'],\r\n        'font-variant':        ['-ligatures', '-alternates', '-caps', '-numeric', '-east-asian'],\r\n\r\n        // CSS Masking Module Level 1: http://www.w3.org/TR/css-masking/\r\n        'mask':                ['-image', '-mode', '-position', '-size', '-repeat', '-origin', '-clip'],\r\n        'mask-border':         ['-source', '-slice', '-width', '-outset', '-repeat', '-mode'],\r\n\r\n        // CSS Multi-column Layout Module: http://www.w3.org/TR/css3-multicol/\r\n        'columns':             ['column-width', 'column-count'],\r\n        'column-rule':         ['-width', '-style', '-color'],\r\n\r\n        // CSS Speech Module: http://www.w3.org/TR/css3-speech/\r\n        'cue':                 ['-before', '-after'],\r\n        'pause':               ['-before', '-after'],\r\n        'rest':                ['-before', '-after'],\r\n\r\n        // CSS Text Decoration Module Level 3: http://www.w3.org/TR/css-text-decor-3/\r\n        'text-decoration':     ['-line', '-style', '-color'],\r\n        'text-emphasis':       ['-style', '-color'],\r\n\r\n        // CSS Animations (WD): http://www.w3.org/TR/css3-animations\r\n        'animation':           ['-name', '-duration', '-timing-function', '-delay', '-iteration-count', '-direction', '-fill-mode', '-play-state'],\r\n\r\n        // CSS Transitions (WD): http://www.w3.org/TR/css3-transitions/\r\n        'transition':          ['-property', '-duration', '-timing-function', '-delay'],\r\n\r\n        // CSS Flexible Box Layout Module Level 1 (WD): http://www.w3.org/TR/css3-flexbox/\r\n        'flex':                ['-grow', '-shrink', '-basis'],\r\n\t\t\r\n\t\t// CSS Grid: https://drafts.csswg.org/css-grid/#grid-shorthand\r\n\t\t'grid':                ['-template', '-auto-flow', '-auto-rows','-auto-columns'],\r\n\t\t'grid-template':       ['-rows', '-columns', '-areas'],\r\n\t\t\r\n\t\t// Others:\r\n\t\t'overflow':            ['-x','-y','-style'], // https://drafts.csswg.org/css-overflow-3/\r\n\t\t\r\n    };\r\n\t\r\n\tvar expandCache = Object.create(null);\r\n\tvar unexpandCache = Object.create(null);\r\n\r\n    /**\r\n     * Expand a shorthand property into an array of longhand properties which are set by it\r\n     * @param  {string} property CSS property name\r\n     * @return {array}           List of longhand properties, or an empty array if it's not a shorthand\r\n     */\r\n    this.expand = function (property) {\r\n\t\t\r\n\t\tvar result = expandCache[property];\r\n\t\tif(result) { return result; }\r\n\t\t\r\n\t\tvar prefixData = property.match(/^(-[a-zA-Z]+-)?(.*)$/);\r\n\t\tvar prefix = prefixData[1]||'', prefixFreeProperty = prefixData[2]||'';\r\n        if (!shorthands.hasOwnProperty(prefixFreeProperty)) {\r\n            return [];\r\n        }\r\n\t\t\r\n\t\tresult = [];\r\n        shorthands[prefixFreeProperty].forEach((p) => {\r\n            var longhand = p[0] === '-' ? property + p : prefix + p;\r\n            result.push(longhand);\r\n\t\t\tresult.push.apply(result, this.expand(longhand));\r\n        });\r\n\t\t\r\n\t\treturn expandCache[property] = result;\r\n\t\t\r\n    };\r\n\t\r\n\t/**\r\n\t * Expand a longhand property into an array of shorthand which may set the value\r\n     * @param  {string} property CSS property name\r\n     * @return {array}           List of shorthand properties, or the original property if it's not a shorthand\r\n\t */\r\n\tthis.unexpand = function unexpand(property) {\r\n\t\t\r\n\t\tvar result = unexpandCache[property];\r\n\t\tif(result) { return result; }\r\n\t\t\r\n\t\tvar prefixData = property.match(/^(-[a-zA-Z]+-)?(.*)$/);\r\n\t\tvar prefix = prefixData[1]||'', prefixFreeProperty = prefixData[2]||'';\r\n\t\t\r\n\t\tresult = [];\r\n\t\tfor(var sh = 0; sh <= shorthands.length; sh++) {\r\n            var shorthand = shorthands[sh];\r\n\t\t\tif(this.expand(shorthand).indexOf(prefixFreeProperty) >= 0) {\r\n\t\t\t\tresult.push(prefix+shorthand);\r\n\t\t\t\tresult.push.apply(result,this.unexpand(prefix+shorthand));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn unexpandCache[property] = result;\r\n\t\t\r\n\t}\r\n\t\r\n}.call(window.CSSShorthands={});\r\n\r\n\r\n// http://blueprintcss.org/tests/parts/grid.html\r\nvar hasBluePrintUsage = function() {\r\n    \r\n    if(!document.querySelector(\".container\")) {\r\n        return false;\r\n    }\r\n    \r\n    for(var i = 24+1; --i;) {\r\n        if(document.querySelector(\".container > .span-\"+i)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n    \r\n}\r\n//\r\n// report how many times the classes in the following arrays have been used in the dom\r\n// (bootstrap stats)\r\n//\r\n\r\nvar detectedBootstrapGridUsages = function(domClasses) {\r\n    var _ = window.CSSUsageLodash;\r\n\tvar reduce = _.reduce.bind(_);\r\n    var trackedClasses = [];\r\n    \r\n    var sizes = ['xs','sm','md','lg'];\r\n    for(var i = sizes.length; i--;) { var size = sizes[i];\r\n        for(var j = 12+1; --j;) {\r\n            trackedClasses.push('col-'+size+'-'+j);\r\n            for(var k = 12+1; --k;) {\r\n                trackedClasses.push('col-'+size+'-'+j+'-offset-'+k);\r\n                trackedClasses.push('col-'+size+'-'+j+'-push-'+k);\r\n                trackedClasses.push('col-'+size+'-'+j+'-pull-'+k);\r\n            }\r\n        }\r\n    }\r\n    \r\n    return reduce(trackedClasses, (a,b) => a+(domClasses[b]|0), 0);\r\n    \r\n};\r\n\r\nvar detectedBootstrapFormUsages = function(domClasses) {\r\n    var _ = window.CSSUsageLodash;\r\n\tvar reduce = _.reduce.bind(_);\r\n    var trackedClasses = [\r\n        'form-group', 'form-group-xs', 'form-group-sm', 'form-group-md', 'form-group-lg',\r\n        'form-control', 'form-horizontal', 'form-inline',\r\n        'btn','btn-primary','btn-secondary','btn-success','btn-warning','btn-danger','btn-error'\r\n    ];\r\n    \r\n    return reduce(trackedClasses, (a,b) => a+(domClasses[b]|0), 0);\r\n    \r\n};\r\n\r\nvar detectedBootstrapAlertUsages = function(domClasses) {\r\n    var _ = window.CSSUsageLodash;\r\n\tvar reduce = _.reduce.bind(_);\r\n    var trackedClasses = [\r\n        'alert','alert-primary','alert-secondary','alert-success','alert-warning','alert-danger','alert-error'\r\n    ];\r\n    \r\n    return reduce(trackedClasses, (a,b) => a+(domClasses[b]|0), 0);\r\n    \r\n};\r\n\r\nvar detectedBootstrapFloatUsages = function(domClasses) {\r\n    var _ = window.CSSUsageLodash;\r\n\tvar reduce = _.reduce.bind(_);\r\n    var trackedClasses = [\r\n        'pull-left','pull-right',\r\n    ];\r\n    \r\n    return reduce(trackedClasses, (a,b) => a+(domClasses[b]|0), 0);\r\n    \r\n};\r\n// https://github.com/Dogfalo/materialize/blob/master/sass/components/_grid.scss\r\nvar hasDogfaloMaterializeUsage = function() {\r\n    \r\n    if(!document.querySelector(\".container > .row > .col\")) {\r\n        return false;\r\n    }\r\n    \r\n    for(var i = 12+1; --i;) {\r\n        var classesToLookUp = ['s','m','l'];\r\n        for(var d = 0; d < classesToLookUp.length; d++) {\r\n            var s = classesToLookUp[d];\r\n            if(document.querySelector(\".container > .row > .col.\"+s+\"\"+i)) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n    \r\n}\r\n// http://www.gumbyframework.com/docs/grid/#!/basic-grid\r\nvar hasGrumbyUsage = function() {\r\n    \r\n    if(!document.querySelector(\".row .columns\")) {\r\n        return false;\r\n    }\r\n    \r\n    var classesToLookUp = [\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"ten\",\"eleven\",\"twelve\"];\r\n    for(var cl = 0; cl < classesToLookUp.length; cl++ ) {\r\n        var fraction = classesToLookUp[cl];\r\n        if(document.querySelector(\".row > .columns.\"+fraction)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n    \r\n}\r\n// https://raw.githubusercontent.com/csswizardry/inuit.css/master/generic/_widths.scss\r\nvar hasInuitUsage = function() {\r\n    \r\n    if(!document.querySelector(\".grid .grid__item\")) {\r\n        return false;\r\n    }\r\n    \r\n    var classesToLookUp = [\"one-whole\",\"one-half\",\"one-third\",\"two-thirds\",\"one-quarter\",\"two-quarters\",\"one-half\",\"three-quarters\",\"one-fifth\",\"two-fifths\",\"three-fifths\",\"four-fifths\",\"one-sixth\",\"two-sixths\",\"one-third\",\"three-sixths\",\"one-half\",\"four-sixths\",\"two-thirds\",\"five-sixths\",\"one-eighth\",\"two-eighths\",\"one-quarter\",\"three-eighths\",\"four-eighths\",\"one-half\",\"five-eighths\",\"six-eighths\",\"three-quarters\",\"seven-eighths\",\"one-tenth\",\"two-tenths\",\"one-fifth\",\"three-tenths\",\"four-tenths\",\"two-fifths\",\"five-tenths\",\"one-half\",\"six-tenths\",\"three-fifths\",\"seven-tenths\",\"eight-tenths\",\"four-fifths\",\"nine-tenths\",\"one-twelfth\",\"two-twelfths\",\"one-sixth\",\"three-twelfths\",\"one-quarter\",\"four-twelfths\",\"one-third\",\"five-twelfths\",\"six-twelfths\",\"one-half\",\"seven-twelfths\",\"eight-twelfths\",\"two-thirds\",\"nine-twelfths\",\"three-quarters\",\"ten-twelfths\",\"five-sixths\",\"eleven-twelfths\"];\r\n\r\n    for(var cu = 0; cu < classesToLookUp.length; cu++ ) {\r\n        var fraction = classesToLookUp[cu];\r\n\r\n        var subClassesToLookUp = [\"\",\"palm-\",\"lap-\",\"portable-\",\"desk-\"];\r\n        for(var sc = 0; sc < subClassesToLookUp.length; sc++) {\r\n            var ns = subClassesToLookUp[sc];\r\n            if(document.querySelector(\".grid > .grid__item.\"+ns+fraction)) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n    \r\n}\r\nvar getLonelyGatesUsage = function (cssLonelyClassGates, domClasses, domIds, cssLonelyIdGates) {\r\n\r\n    var _ = window.CSSUsageLodash;\r\n\r\n    if((cssLonelyClassGates || domClasses || domIds || cssLonelyIdGates) == undefined) return;\r\n    \r\n    // get arrays of the .class gates used ({\"hover\":5} => [\"hover\"]), filter irrelevant entries\r\n    var cssUniqueLonelyClassGatesArray = Object.keys(cssLonelyClassGates);\r\n    var cssUniqueLonelyClassGatesUsedArray = _(cssUniqueLonelyClassGatesArray).filter((c) => domClasses[c]).value();\r\n    var cssUniqueLonelyClassGatesUsedWorthArray = _(cssUniqueLonelyClassGatesUsedArray).filter((c)=>(cssLonelyClassGates[c]>9)).value();\r\n    if(window.debugCSSUsage) console.log(cssLonelyClassGates);\r\n    if(window.debugCSSUsage) console.log(cssUniqueLonelyClassGatesUsedWorthArray);\r\n\r\n    // get arrays of the #id gates used ({\"hover\":5} => [\"hover\"]), filter irrelevant entries\r\n    var cssUniqueLonelyIdGatesArray = Object.keys(cssLonelyIdGates);\r\n    var cssUniqueLonelyIdGatesUsedArray = _(cssUniqueLonelyIdGatesArray).filter((c) => domIds[c]).value();\r\n    var cssUniqueLonelyIdGatesUsedWorthArray = _(cssUniqueLonelyIdGatesUsedArray).filter((c)=>(cssLonelyIdGates[c]>9)).value();\r\n    if(window.debugCSSUsage) console.log(cssLonelyIdGates);\r\n    if(window.debugCSSUsage) console.log(cssUniqueLonelyIdGatesUsedWorthArray);\r\n}\r\n//\r\n// report how many times the classes in the following arrays have been used as css gate\r\n// (modernizer stats)\r\n//\r\n\r\n// https://modernizr.com/docs#features\r\nvar detectedModernizerUsages = function(cssLonelyClassGates) {\r\n\r\n    if((cssLonelyClassGates) == undefined) return;\r\n    \r\n    var ModernizerUsages = {count:0,values:{/*  \"js\":1,  \"no-js\":2  */}};\r\n    var trackedClasses = [\"js\",\"ambientlight\",\"applicationcache\",\"audio\",\"batteryapi\",\"blobconstructor\",\"canvas\",\"canvastext\",\"contenteditable\",\"contextmenu\",\"cookies\",\"cors\",\"cryptography\",\"customprotocolhandler\",\"customevent\",\"dart\",\"dataview\",\"emoji\",\"eventlistener\",\"exiforientation\",\"flash\",\"fullscreen\",\"gamepads\",\"geolocation\",\"hashchange\",\"hiddenscroll\",\"history\",\"htmlimports\",\"ie8compat\",\"indexeddb\",\"indexeddbblob\",\"input\",\"search\",\"inputtypes\",\"intl\",\"json\",\"olreversed\",\"mathml\",\"notification\",\"pagevisibility\",\"performance\",\"pointerevents\",\"pointerlock\",\"postmessage\",\"proximity\",\"queryselector\",\"quotamanagement\",\"requestanimationframe\",\"serviceworker\",\"svg\",\"templatestrings\",\"touchevents\",\"typedarrays\",\"unicoderange\",\"unicode\",\"userdata\",\"vibrate\",\"video\",\"vml\",\"webintents\",\"animation\",\"webgl\",\"websockets\",\"xdomainrequest\",\"adownload\",\"audioloop\",\"audiopreload\",\"webaudio\",\"lowbattery\",\"canvasblending\",\"todataurljpeg,todataurlpng,todataurlwebp\",\"canvaswinding\",\"getrandomvalues\",\"cssall\",\"cssanimations\",\"appearance\",\"backdropfilter\",\"backgroundblendmode\",\"backgroundcliptext\",\"bgpositionshorthand\",\"bgpositionxy\",\"bgrepeatspace,bgrepeatround\",\"backgroundsize\",\"bgsizecover\",\"borderimage\",\"borderradius\",\"boxshadow\",\"boxsizing\",\"csscalc\",\"checked\",\"csschunit\",\"csscolumns\",\"cubicbezierrange\",\"display-runin\",\"displaytable\",\"ellipsis\",\"cssescape\",\"cssexunit\",\"cssfilters\",\"flexbox\",\"flexboxlegacy\",\"flexboxtweener\",\"flexwrap\",\"fontface\",\"generatedcontent\",\"cssgradients\",\"hsla\",\"csshyphens,softhyphens,softhyphensfind\",\"cssinvalid\",\"lastchild\",\"cssmask\",\"mediaqueries\",\"multiplebgs\",\"nthchild\",\"objectfit\",\"opacity\",\"overflowscrolling\",\"csspointerevents\",\"csspositionsticky\",\"csspseudoanimations\",\"csspseudotransitions\",\"cssreflections\",\"regions\",\"cssremunit\",\"cssresize\",\"rgba\",\"cssscrollbar\",\"shapes\",\"siblinggeneral\",\"subpixelfont\",\"supports\",\"target\",\"textalignlast\",\"textshadow\",\"csstransforms\",\"csstransforms3d\",\"preserve3d\",\"csstransitions\",\"userselect\",\"cssvalid\",\"cssvhunit\",\"cssvmaxunit\",\"cssvminunit\",\"cssvwunit\",\"willchange\",\"wrapflow\",\"classlist\",\"createelementattrs,createelement-attrs\",\"dataset\",\"documentfragment\",\"hidden\",\"microdata\",\"mutationobserver\",\"bdi\",\"datalistelem\",\"details\",\"outputelem\",\"picture\",\"progressbar,meter\",\"ruby\",\"template\",\"time\",\"texttrackapi,track\",\"unknownelements\",\"es5array\",\"es5date\",\"es5function\",\"es5object\",\"es5\",\"strictmode\",\"es5string\",\"es5syntax\",\"es5undefined\",\"es6array\",\"contains\",\"generators\",\"es6math\",\"es6number\",\"es6object\",\"promises\",\"es6string\",\"devicemotion,deviceorientation\",\"oninput\",\"filereader\",\"filesystem\",\"capture\",\"fileinput\",\"directory\",\"formattribute\",\"localizednumber\",\"placeholder\",\"requestautocomplete\",\"formvalidation\",\"sandbox\",\"seamless\",\"srcdoc\",\"apng\",\"jpeg2000\",\"jpegxr\",\"sizes\",\"srcset\",\"webpalpha\",\"webpanimation\",\"webplossless,webp-lossless\",\"webp\",\"inputformaction\",\"inputformenctype\",\"inputformmethod\",\"inputformtarget\",\"beacon\",\"lowbandwidth\",\"eventsource\",\"fetch\",\"xhrresponsetypearraybuffer\",\"xhrresponsetypeblob\",\"xhrresponsetypedocument\",\"xhrresponsetypejson\",\"xhrresponsetypetext\",\"xhrresponsetype\",\"xhr2\",\"scriptasync\",\"scriptdefer\",\"speechrecognition\",\"speechsynthesis\",\"localstorage\",\"sessionstorage\",\"websqldatabase\",\"stylescoped\",\"svgasimg\",\"svgclippaths\",\"svgfilters\",\"svgforeignobject\",\"inlinesvg\",\"smil\",\"textareamaxlength\",\"bloburls\",\"datauri\",\"urlparser\",\"videoautoplay\",\"videoloop\",\"videopreload\",\"webglextensions\",\"datachannel\",\"getusermedia\",\"peerconnection\",\"websocketsbinary\",\"atob-btoa\",\"framed\",\"matchmedia\",\"blobworkers\",\"dataworkers\",\"sharedworkers\",\"transferables\",\"webworkers\"];\r\n    for(var tc = 0; tc < trackedClasses.length; tc++) {\r\n        var c = trackedClasses[tc];\r\n        countInstancesOfTheClass(c); \r\n        countInstancesOfTheClass('no-'+c);\r\n    }\r\n    return ModernizerUsages;\r\n    \r\n    function countInstancesOfTheClass(c) {\r\n        var count = cssLonelyClassGates[c]; if(!count) return; \r\n        ModernizerUsages.count += count; \r\n        ModernizerUsages.values[c]=count; \r\n    }\r\n    \r\n}\r\nfunction getFwkUsage(results, cssLonelyClassGates, domClasses, domIds, cssLonelyIdGates, cssClasses) {\r\n\r\n    // Modernizer\r\n    getLonelyGatesUsage(cssLonelyClassGates, domClasses, domIds, cssLonelyIdGates);\r\n    detectedModernizerUsages(cssLonelyClassGates);\r\n    results.FwkModernizer = !!window.Modernizer;\r\n    results.FwkModernizerDOMUsages = detectedModernizerUsages(domClasses);\r\n\tresults.FwkModernizerCSSUsages = detectedModernizerUsages(cssLonelyClassGates);\r\n\r\n    // Bootstrap\r\n    results.FwkBootstrap = !!((window.jQuery||window.$) && (window.jQuery||window.$).fn && (window.jQuery||window.$).fn.modal)|0;\r\n    results.FwkBootstrapGridUsage = detectedBootstrapGridUsages(domClasses);\r\n    results.FwkBootstrapFormUsage = detectedBootstrapFormUsages(domClasses);\r\n    results.FwkBootstrapFloatUsage = detectedBootstrapFloatUsages(domClasses);\r\n    results.FwkBootstrapAlertUsage = detectedBootstrapAlertUsages(domClasses);    \r\n    results.FwkBootstrapGridRecognized = detectedBootstrapGridUsages(cssClasses);\r\n    results.FwkBootstrapFormRecognized = detectedBootstrapFormUsages(cssClasses);\r\n    results.FwkBootstrapFloatRecognized = detectedBootstrapFloatUsages(cssClasses);\r\n    results.FwkBootstrapAlertRecognized = detectedBootstrapAlertUsages(cssClasses);\r\n\r\n    // Grumby\r\n    results.FwkGrumby = hasGrumbyUsage()|0;\r\n\r\n    // Inuit\r\n    results.FwkInuit = hasInuitUsage()|0;\r\n\r\n    // Blueprint\r\n    results.FwkBluePrint = hasBluePrintUsage()|0;\r\n\r\n    // Dog Falo\r\n    results.FwkDogfaloMaterialize = hasDogfaloMaterializeUsage()|0;\r\n\r\n    return results;\r\n}\r\n//\r\n// report how many times the classes in the following arrays have been used in the dom\r\n// (general stats)\r\n//\r\n\r\n/** count how many times the usual clearfix classes are used */\r\nvar detectedClearfixUsages = function(domClasses) {\r\n\r\n    var _ = window.CSSUsageLodash;\r\n\tvar reduce = _.reduce.bind(_);\r\n    \r\n    var trackedClasses = [\r\n        'clearfix','clear',\r\n    ];\r\n    \r\n    return reduce(trackedClasses, (a,b) => a+(domClasses[b]|0), 0);\r\n    \r\n};\r\n\r\n/** count how many times the usual hide/show classes are used */\r\nvar detectedVisibilityUsages = function(domClasses) {\r\n    var _ = window.CSSUsageLodash;\r\n\tvar reduce = _.reduce.bind(_);\r\n    \r\n    var trackedClasses = [\r\n        'show', 'hide', 'visible', 'hidden', \r\n    ];\r\n    \r\n    return reduce(trackedClasses, (a,b) => a+(domClasses[b]|0), 0);\r\n    \r\n};\r\nfunction getPatternUsage(results, domClasses, cssClasses) {\r\n    results.PatClearfixUsage = detectedClearfixUsages(domClasses);\r\n\tresults.PatVisibilityUsage = detectedVisibilityUsages(domClasses);\r\n    results.PatClearfixRecognized = detectedClearfixUsages(cssClasses);\r\n    results.PatVisibilityRecognized = detectedVisibilityUsages(cssClasses);\r\n\r\n    return results;\r\n}\r\nvoid function() {\n\n    window.HtmlUsage = {};\n\n    // This function has been added to the elementAnalyzers in\n    // CSSUsage.js under onready()\n    // <param name=\"element\"> is an HTMLElement passed in by elementAnalyzers\n    window.HtmlUsage.GetNodeName = function (element) {\n        var node = element.nodeName;\n\n        var tags = HtmlUsageResults.tags || (HtmlUsageResults.tags = {});\n        var tag = tags[node] || (tags[node] = 0);\n        tags[node]++;\n\n        GetAttributes(element, node);\n    }\n\n    function GetAttributes(element, node) {\n        for(var i = 0; i < element.attributes.length; i++) {\n            var att = element.attributes[i];\n\n            // Only keep attributes that do not contain a dash unless they're in the whitelist\n            if(att.nodeName.indexOf('-') == -1) {\n\n                var attributes = HtmlUsageResults.attributes || (HtmlUsageResults.attributes = {});\n                var attributeTag = attributes[node] || (attributes[node] = {});\n                var attribute = attributeTag[att.nodeName] || (attributeTag[att.nodeName] = { count: 0, values: {}});                \n                attribute.count++;\n            }\n        }\n    }\n}();\r\nvoid function() { try {\r\n\t\r\n\tvar _ = window.CSSUsageLodash;\r\n\tvar map = _.map.bind(_);\r\n\tvar mapInline = _.mapInline ? _.mapInline : map;\r\n\tvar reduce = _.reduce.bind(_);\r\n\tvar filter = _.filter.bind(_);\r\n\t\r\n\tvar browserIsEdge = navigator.userAgent.indexOf('Edge')>=0;\r\n\tvar browserIsFirefox = navigator.userAgent.indexOf('Firefox')>=0;\r\n\t\r\n\t//\r\n\t// Guards execution against invalid conditions\r\n\t//\r\n\tvoid function() {\r\n\t\t\r\n\t\t// Don't run in subframes for now\r\n\t\tif (top.location.href !== location.href) throw new Error(\"CSSUsage: the script doesn't run in frames for now\");\r\n\t\t\r\n\t\t// Don't run if already ran\r\n\t\tif (window.CSSUsage) throw new Error(\"CSSUsage: second execution attempted; only one run can be executed; if you specified parameters, check the right ones were chosen\");\r\n\t\t\r\n\t\t// Don't run if we don't have lodash\r\n\t\tif (!window.CSSUsageLodash) throw new Error(\"CSSUsage: missing CSSUsageLodash dependency\");\r\n\r\n\t\tif (!window.HtmlUsage) throw new Error(\"APIUsage: missing HtmlUsage dependancy\");\r\n\t\t\r\n\t\t// Do not allow buggy trim() to bother usage\r\n\t\tif((''+String.prototype.trim).indexOf(\"[native code]\") == -1) {\r\n\t\t\tconsole.warn('Replaced custom trim function with something known to work. Might break website.');\r\n\t\t\tString.prototype.trim = function() {\r\n\t\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}();\r\n\r\n\t//\r\n\t// Prepare our global namespace\r\n\t//\r\n\tvoid function() {\t\t\r\n\t\twindow.HtmlUsageResults = {\r\n\t\t\t// this will contain all of the HTML tags used on a page\r\n\t\t\ttags: {}, /*\r\n\t\t\ttags ~= [nodeName] */\r\n\r\n\t\t\t// this will contain all of the attributes used on an HTML tag\r\n\t\t\t// and their values if they are in the whitelist\r\n\t\t\tattributes: {} /*\r\n\t\t\tattributes ~= {\r\n\t\t\t\tname: <string>, // The name of the attribute \r\n\t\t\t\ttag: <string>,  // The tag that the attr was used on\r\n\t\t\t\tvalue: <string> // The value of the attr\r\n\t\t\t} */\r\n\t\t};\r\n\r\n\t\twindow.CSSUsage = {};\r\n\t\twindow.CSSUsageResults = {\r\n\t\t\t\r\n\t\t\t// this will contain the usage stats of various at-rules and rules\r\n\t\t\ttypes: [ 0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0, ], /* \r\n\t\t\ttypes ~= {\r\n\t\t\t\t\"unknown\":0,   //0\r\n\t\t\t\t\"style\":0,     //1\r\n\t\t\t\t\"charset\": 0,  //2\r\n\t\t\t\t\"import\":0,    //3\r\n\t\t\t\t\"media\":0,     //4\r\n\t\t\t\t\"font-face\":0, //5\r\n\t\t\t\t\"page\":0,      //6\r\n\t\t\t\t\"keyframes\":0, //7 This is the @keyframe at rule\r\n\t\t\t\t\"keyframe\":0,  //8 This is the individual 0%, or from/to\r\n\t\t\t\t\"reserved9\":0, //9\r\n\t\t\t\t\"namespace\":0, //10\r\n\t\t\t\t\"reserved11\":0,//11\r\n\t\t\t\t\"supports\":0,  //12\r\n\t\t\t\t\"reserved13\":0,//13\r\n\t\t\t\t\"reserved14\":0,//14\r\n\t\t\t\t\"viewport\":0,  //15\r\n\t\t\t}*/\r\n\t\t\t\r\n\t\t\t// this will contain the usage stats of various css properties and values\r\n\t\t\tprops: Object.create(null), /*\r\n\t\t\tprops ~= {\r\n\t\t\t\t\"background-color\": {\r\n\t\t\t\t\tcount: 10,\r\n\t\t\t\t\tvalues: {\r\n\t\t\t\t\t\t\"<color-keyword>\": 9,\r\n\t\t\t\t\t\t\"inherit\": 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}*/\r\n\t\t\t\r\n\t\t\t// this will contains the various datapoints we measure on css selector usage\r\n\t\t\tusages: {\"SuccessfulCrawls\":1},\r\n\t\t\t\r\n\t\t\t// this will contain selectors and the properties they refer to\r\n\t\t\trules: {\"@stylerule\":0,\"@atrule\":0,\"@inline\":0}, /*\r\n\t\t\trules ~= {\r\n\t\t\t\t\"#id:hover .class\": {\r\n\t\t\t\t\tcount: 10,\r\n\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\"background-color\": 5,\r\n\t\t\t\t\t\t\"color\": 4,\r\n\t\t\t\t\t\t\"opacity\": 3,\r\n\t\t\t\t\t\t\"transform\": 3\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}*/\r\n\t\t\t\r\n\t\t}\r\n\t}();\r\n\r\n\t//\r\n\t// The StyleWalker API cover the extraction of style in the browser\r\n\t//\r\n\tvoid function() { \"use strict\";\r\n\r\n\t\tCSSUsage.StyleWalker = {\r\n\t\t\t\r\n\t\t\t// This array contains the list of functions being run on each CSSStyleDeclaration\r\n\t\t\t// [ function(style, selectorText, matchedElements, ruleType) { ... }, ... ]\r\n\t\t\truleAnalyzers: [],\r\n\t\t\t\r\n\t\t\t// This array contains the list of functions being run on each DOM element of the page\r\n\t\t\t// [ function(element) { ...} ]\r\n\t\t\telementAnalyzers: [],\r\n\t\t\t\r\n\t\t\t// \r\n\t\t\twalkOverCssStyles: walkOverCssStyles,\r\n\t\t\twalkOverDomElements: walkOverDomElements,\r\n\t\t\t\r\n\t\t\t// Those stats are being collected while walking over the css style rules\r\n\t\t\tamountOfInlineStyles: 0,\r\n\t\t\tamountOfSelectorsUnused: 0,\r\n\t\t\tamountOfSelectors: 0,\r\n\t\t}\r\n\t\t\r\n\t\t// holds @keyframes temporarily while we wait to know how much they are used\r\n\t\tvar keyframes = Object.create(null);\r\n\t\t\r\n\t\t/**\r\n\t\t * For all stylesheets of the document, \r\n\t\t * walk through the stylerules and run analyzers\r\n\t\t */\r\n\t\tfunction walkOverCssStyles() {\r\n\t\t\tvar styleSheets = document.styleSheets;\r\n\r\n\t\t\t// Loop through StyeSheets\r\n\t\t\tfor (var ssIndex = styleSheets.length; ssIndex--;) {\r\n\t\t\t\tvar styleSheet = styleSheets[ssIndex];\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif(styleSheet.cssRules) {\r\n\t\t\t\t\t\twalkOverCssRules(styleSheet.cssRules, styleSheet);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn(\"No content loaded for stylesheet: \", styleSheet.href||styleSheet);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (e) {\r\n\t\t\t\t\tconsole.log(e, e.stack);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Hack: rely on the results to find out which\r\n\t\t\t// animations actually run, and parse their keyframes\r\n\t\t\tvar animations = (CSSUsageResults.props['animation-name']||{}).values||{};\r\n\t\t\tfor(var animation in keyframes) {\r\n\t\t\t\tvar keyframe = keyframes[animation];\r\n\t\t\t\tvar matchCount = animations[animation]|0;\r\n\t\t\t\tvar fakeElements = initArray(matchCount, (i)=>({tagName:'@keyframes '+animation+' ['+i+']'}));\r\n\t\t\t\tprocessRule(keyframe, fakeElements);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * This is the css work horse, this will will loop over the\r\n\t\t * rules and then call the rule analyzers currently registered\r\n\t\t */\r\n\t\tfunction walkOverCssRules(/*CSSRuleList*/ cssRules, styleSheet, parentMatchedElements) {\r\n\t\t\tfor (var ruleIndex = cssRules.length; ruleIndex--;) {\r\n\r\n\t\t\t\t// Loop through the rules\r\n\t\t\t\tvar rule = cssRules[ruleIndex];\r\n\r\n\t\t\t\t// Until we can correlate animation usage\r\n\t\t\t\t// to keyframes do not parse @keyframe rules\r\n\t\t\t\tif(rule.type == 7) {\r\n\t\t\t\t\tkeyframes[rule.name] = rule;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Filter \"@supports\" which the current browser doesn't support\r\n\t\t\t\tif(rule.type == 12 && (!CSS.supports || !CSS.supports(rule.conditionText))) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t// Other rules should be processed immediately\r\n\t\t\t\tprocessRule(rule,parentMatchedElements);\r\n\t\t\t\t\t\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * This function takes a css rule and:\r\n\t\t * [1] walk over its child rules if needed\r\n\t\t * [2] call rule analyzers for that rule if it has style data\r\n\t\t */\r\n\t\tfunction processRule(rule, parentMatchedElements) {\r\n\t\t\t\r\n\t\t\t// Increment the rule type's counter\r\n\t\t\tCSSUsageResults.types[rule.type|0]++; \r\n\r\n\t\t\t// Some CssRules have nested rules to walk through:\r\n\t\t\tif (rule.cssRules && rule.cssRules.length>0) {\r\n\t\t\t\t\r\n\t\t\t\twalkOverCssRules(rule.cssRules, rule.parentStyleSheet, parentMatchedElements);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t// Some CssRules have style we can ananlyze\r\n\t\t\tif(rule.style) {\r\n\t\t\t\t\r\n\t\t\t\t// find what the rule applies to\r\n\t\t\t\tvar selectorText;\r\n\t\t\t\tvar matchedElements; \r\n\t\t\t\tif(rule.selectorText) {\r\n\t\t\t\t\tselectorText = CSSUsage.PropertyValuesAnalyzer.cleanSelectorText(rule.selectorText);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif(parentMatchedElements) {\r\n\t\t\t\t\t\t\tmatchedElements = [].slice.call(document.querySelectorAll(selectorText));\r\n\t\t\t\t\t\t\tmatchedElements.parentMatchedElements = parentMatchedElements;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmatchedElements = [].slice.call(document.querySelectorAll(selectorText));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(ex) {\r\n\t\t\t\t\t\tmatchedElements = [];\r\n\t\t\t\t\t\tconsole.warn(ex.stack||(\"Invalid selector: \"+selectorText+\" -- via \"+rule.selectorText));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselectorText = '@atrule:'+rule.type;\r\n\t\t\t\t\tif(parentMatchedElements) {\r\n\t\t\t\t\t\tmatchedElements = parentMatchedElements;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmatchedElements = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// run an analysis on it\r\n\t\t\t\trunRuleAnalyzers(rule.style, selectorText, matchedElements, rule.type);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * This is the dom work horse, this will will loop over the\r\n\t\t * dom elements and then call the element analyzers currently registered,\r\n\t\t * as well as rule analyzers for inline styles\r\n\t\t */\r\n\t\tfunction walkOverDomElements(obj, index, depth) {\r\n\t\t\tobj = obj || document.documentElement; index = index|0; depth = depth|0;\r\n\r\n\t\t\t// Loop through the elements\r\n\t\t\tvar elements = [].slice.call(document.all,0);\r\n\t\t\tfor(var i = 0; i < elements.length; i++) { \r\n\t\t\t\tvar element=elements[i];\r\n\t\t\t\r\n\t\t\t\t// Analyze the element\r\n\t\t\t\trunElementAnalyzers(element, index);\r\n\t\t\t\t\r\n\t\t\t\t// Analyze its style, if any\r\n\t\t\t\tif (element.hasAttribute('style')) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Inline styles count like a style rule with no selector but one matched element\r\n\t\t\t\t\tvar ruleType = 1;\r\n\t\t\t\t\tvar isInline = true;\r\n\t\t\t\t\tvar selectorText = '@inline:'+element.tagName;\r\n\t\t\t\t\tvar matchedElements = [element];\r\n\t\t\t\t\trunRuleAnalyzers(element.style, selectorText, matchedElements, ruleType, isInline);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Given a rule and its data, send it to all rule analyzers\r\n\t\t */\r\n\t\tfunction runRuleAnalyzers(style, selectorText, matchedElements, type, isInline) {\r\n\t\t\t\r\n\t\t\t// Keep track of the counters\r\n\t\t\tif(isInline) {\r\n\t\t\t\tCSSUsage.StyleWalker.amountOfInlineStyles++;\r\n\t\t\t} else {\r\n\t\t\t\tCSSUsage.StyleWalker.amountOfSelectors++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Run all rule analyzers\r\n\t\t\tfor(var i = 0; i < CSSUsage.StyleWalker.ruleAnalyzers.length; i++) {\r\n\t\t\t\tvar runAnalyzer = CSSUsage.StyleWalker.ruleAnalyzers[i];\r\n\t\t\t\trunAnalyzer(style, selectorText, matchedElements, type, isInline);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Given an element and its data, send it to all element analyzers\r\n\t\t */\r\n\t\tfunction runElementAnalyzers(element, index, depth) {\r\n\t\t\tfor(var i = 0; i < CSSUsage.StyleWalker.elementAnalyzers.length; i++) {\r\n\t\t\t\tvar runAnalyzer = CSSUsage.StyleWalker.elementAnalyzers[i];\r\n\t\t\t\trunAnalyzer(element, index, depth);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Creates an array of \"length\" elements, by calling initializer for each cell\r\n\t\t */\r\n\t\tfunction initArray(length, initializer) {\r\n\t\t\tvar array = Array(length);\r\n\t\t\tfor(var i = length; i--;) { \r\n\t\t\t\tarray[i] = initializer(i);\r\n\t\t\t}\r\n\t\t\treturn array;\r\n\t\t}\r\n\r\n\t}();\r\n\r\n\t//\r\n\t// helper to work with css values\r\n\t//\r\n\tvoid function() {\r\n\r\n\t\tCSSUsage.CSSValues = {\r\n\t\t\tcreateValueArray: createValueArray,\r\n\t\t\tparseValues: parseValues,\r\n\t\t\tnormalizeValue: createValueArray\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * This will take a string value and reduce it down\r\n\t\t * to only the aspects of the value we wish to keep\r\n\t\t */\r\n\t\tfunction parseValues(value,propertyName) {\r\n\t\t\t\r\n\t\t\t// Trim value on the edges\r\n\t\t\tvalue = value.trim();\r\n\t\t\t\r\n\t\t\t// Normalize letter-casing\r\n\t\t\tvalue = value.toLowerCase();\r\n\r\n\t\t\t// Map colors to a standard value (eg: white, blue, yellow)\r\n\t\t\tif (isKeywordColor(value)) { return \"<color-keyword>\"; }\r\n\t\t\tvalue = value.replace(/[#][0-9a-fA-F]+/g, '#xxyyzz');\r\n\t\t\t\r\n\t\t\t// Escapce identifiers containing numbers\r\n\t\t\tvar numbers = ['ZERO','ONE','TWO','THREE','FOUR','FIVE','SIX','SEVEN','EIGHT','NINE'];\r\n\t\t\tvalue = value.replace(\r\n\t\t\t\t/([_a-z][-_a-z]|[_a-df-z])[0-9]+[-_a-z0-9]*/g, \r\n\t\t\t\ts=>numbers.reduce(\r\n\t\t\t\t\t(m,nstr,nint)=>m.replace(RegExp(nint,'g'),nstr),\r\n\t\t\t\t\ts\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\t// Remove any digits eg: 55px -> px, 1.5 -> 0.0, 1 -> 0\r\n\t\t\tvalue = value.replace(/(?:[+]|[-]|)(?:(?:[0-9]+)(?:[.][0-9]+|)|(?:[.][0-9]+))(?:[e](?:[+]|[-]|)(?:[0-9]+))?(%|e[a-z]+|[a-df-z][a-z]*)/g, \"$1\"); \r\n\t\t\tvalue = value.replace(/(?:[+]|[-]|)(?:[0-9]+)(?:[.][0-9]+)(?:[e](?:[+]|[-]|)(?:[0-9]+))?/g, \" <float> \");\r\n\t\t\tvalue = value.replace(/(?:[+]|[-]|)(?:[.][0-9]+)(?:[e](?:[+]|[-]|)(?:[0-9]+))?/g, \" <float> \");\r\n\t\t\tvalue = value.replace(/(?:[+]|[-]|)(?:[0-9]+)(?:[e](?:[+]|[-]|)(?:[0-9]+))/g, \" <float> \");\r\n\t\t\tvalue = value.replace(/(?:[+]|[-]|)(?:[0-9]+)/g, \" <int> \");\r\n\t\t\t\r\n\t\t\t// Unescapce identifiers containing numbers\r\n\t\t\tvalue = numbers.reduce(\r\n\t\t\t\t(m,nstr,nint)=>m.replace(RegExp(nstr,'g'),nint),\r\n\t\t\t\tvalue\r\n\t\t\t)\r\n\t\t\t\r\n\t\t\t// Remove quotes\r\n\t\t\tvalue = value.replace(/('|||\")/g, \"\");\r\n\t\t\t\r\n\t\t\t//\r\n\t\t\tswitch(propertyName) {\r\n\t\t\t\tcase 'counter-increment':\r\n\t\t\t\tcase 'counter-reset':\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Anonymize the user identifier\r\n\t\t\t\t\tvalue = value.replace(/[-_a-zA-Z0-9]+/g,' <custom-ident> ');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase 'grid':\r\n\t\t\t\tcase 'grid-template':\r\n\t\t\t\tcase 'grid-template-rows':\r\n\t\t\t\tcase 'grid-template-columns':\r\n\t\t\t\tcase 'grid-template-areas':\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Anonymize line names\r\n\t\t\t\t\tvalue = value.replace(/\\[[-_a-zA-Z0-9 ]+\\]/g,' <line-names> ');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase '--var':\r\n\t\t\t\t\r\n\t\t\t\t\t// Replace (...), {...} and [...]\r\n\t\t\t\t\tvalue = value.replace(/[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \" <parentheses-block> \");\r\n\t\t\t\t\tvalue = value.replace(/[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \" <parentheses-block> \");\r\n\t\t\t\t\tvalue = value.replace(/\\[(?:[^()]+|\\[(?:[^()]+|\\[(?:[^()]+|\\[(?:[^()]+|\\[(?:[^()]*)\\])*\\])*\\])*\\])*\\]/g, \" <curly-brackets-block> \");\r\n\t\t\t\t\tvalue = value.replace(/\\[(?:[^()]+|\\[(?:[^()]+|\\[(?:[^()]+|\\[(?:[^()]+|\\[(?:[^()]*)\\])*\\])*\\])*\\])*\\]/g, \" <curly-brackets-block> \");\r\n\t\t\t\t\tvalue = value.replace(/\\{(?:[^()]+|\\{(?:[^()]+|\\{(?:[^()]+|\\{(?:[^()]+|\\{(?:[^()]*)\\})*\\})*\\})*\\})*\\}/g, \" <square-brackets-block> \");\r\n\t\t\t\t\tvalue = value.replace(/\\{(?:[^()]+|\\{(?:[^()]+|\\{(?:[^()]+|\\{(?:[^()]+|\\{(?:[^()]*)\\})*\\})*\\})*\\})*\\}/g, \" <square-brackets-block> \");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\treturn value.trim();\r\n\t\t\t \r\n\t\t}\r\n\r\n\t\t//-----------------------------------------------------------------------------\r\n\r\n\t\t/**\r\n\t\t * This will transform a value into an array of value identifiers\r\n\t\t */ \r\n\t\tfunction createValueArray(value, propertyName) {\r\n\r\n\t\t\t// Trim value on the edges\r\n\t\t\tvalue = value.trim();\r\n\t\t\t\r\n\t\t\t// Normalize letter-casing\r\n\t\t\tvalue = value.toLowerCase();\r\n\t\t\t\r\n\t\t\t// Remove comments and !important\r\n\t\t\tvalue = value.replace(/([/][*](?:.|\\r|\\n)*[*][/]|[!]important.*)/g,'');\r\n\t\t\t\r\n\t\t\t// Do the right thing in function of the property\r\n\t\t\tswitch(propertyName) {\r\n\t\t\t\tcase 'font-family':\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Remove various quotes\r\n\t\t\t\t\tif (value.indexOf(\"'\") != -1 || value.indexOf(\"\") != -1 || value.indexOf('\"')) {\r\n\t\t\t\t\t\tvalue = value.replace(/('|||\")/g, \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Divide at commas to separate different font names\r\n\t\t\t\t\tvalue = value.split(/\\s*,\\s*/g);\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t\t\r\n\t\t\t\tcase '--var':\r\n\t\t\t\t\r\n\t\t\t\t\t// Replace strings by dummies\r\n\t\t\t\t\tvalue = value.replace(/\"([^\"\\\\]|\\\\[^\"\\\\]|\\\\\\\\|\\\\\")*\"/g,' <string> ')\r\n\t\t\t\t\tvalue = value.replace(/'([^'\\\\]|\\\\[^'\\\\]|\\\\\\\\|\\\\')*'/g,' <string> ');\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Replace url(...) functions by dummies\r\n\t\t\t\t\tvalue = value.replace(/([a-z]?)[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \"$1()\");\r\n\t\t\t\t\tvalue = value.replace(/([a-z]?)[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \"$1()\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Remove group contents (...), {...} and [...]\r\n\t\t\t\t\tvalue = value.replace(/[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \" <parentheses-block> \");\r\n\t\t\t\t\tvalue = value.replace(/[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \" <parentheses-block> \");\r\n\t\t\t\t\tvalue = value.replace(/[{](?:[^{}]+|[{](?:[^{}]+|[{](?:[^{}]+|[{](?:[^{}]+|[{](?:[^{}]*)[}])*[}])*[}])*[}])*[}]/g, \" <curly-brackets-block> \");\r\n\t\t\t\t\tvalue = value.replace(/[{](?:[^{}]+|[{](?:[^{}]+|[{](?:[^{}]+|[{](?:[^{}]+|[{](?:[^{}]*)[}])*[}])*[}])*[}])*[}]/g, \" <curly-brackets-block> \");\r\n\t\t\t\t\tvalue = value.replace(/[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]*)[\\]])*[\\]])*[\\]])*[\\]])*[\\]]/g, \" <square-brackets-block> \");\r\n\t\t\t\t\tvalue = value.replace(/[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]+|[\\[](?:[^\\[\\]]*)[\\]])*[\\]])*[\\]])*[\\]])*[\\]]/g, \" <square-brackets-block> \");\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\r\n\t\t\t\t\t// Replace strings by dummies\r\n\t\t\t\t\tvalue = value.replace(/\"([^\"\\\\]|\\\\[^\"\\\\]|\\\\\\\\|\\\\\")*\"/g,' <string> ')\r\n\t\t\t\t\t\t\t\t .replace(/'([^'\\\\]|\\\\[^'\\\\]|\\\\\\\\|\\\\')*'/g,' <string> ');\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Replace url(...) functions by dummies\r\n\t\t\t\t\tif (value.indexOf(\"(\") != -1) {\r\n\t\t\t\t\t\tvalue = value.replace(/([a-z]?)[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \"$1() \");\r\n\t\t\t\t\t\tvalue = value.replace(/([a-z]?)[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \"$1() \");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Collapse whitespace\r\n\t\t\tvalue = value.trim().replace(/\\s+/g, \" \");\r\n\t\t\t\r\n\t\t\t// Divide at commas and spaces to separate different values\r\n\t\t\tvalue = value.split(/\\s*(?:,|[/])\\s*|\\s+/g);\r\n\t\t\t\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * So that we don't end up with a ton of color\r\n\t\t * values, this will determine if the color is a\r\n\t\t * keyword color value\r\n\t\t */\r\n\t\tfunction isKeywordColor(candidateColor) {\r\n\t\t\t\r\n\t\t\t// Keyword colors from the W3C specs\r\n\t\t\tvar isColorKeyword = /^(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgrey|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|grey|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgray|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lighslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|navyblue|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen)$/;\r\n\t\t\treturn isColorKeyword.test(candidateColor);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}();\r\n\r\n\t//\r\n\t// computes various css stats\r\n\t//\r\n\tvoid function() {\r\n\r\n\t\tCSSUsage.PropertyValuesAnalyzer = analyzeStyleOfRule;\r\n\t\tCSSUsage.PropertyValuesAnalyzer.cleanSelectorText = cleanSelectorText;\r\n\t\tCSSUsage.PropertyValuesAnalyzer.generalizedSelectorsOf = generalizedSelectorsOf;\r\n\t\tCSSUsage.PropertyValuesAnalyzer.finalize = finalize;\r\n\r\n\t\t// We put a computed style in cache for filtering purposes\r\n\t\tvar defaultStyle = getComputedStyle(document.createElement('div'));\r\n\t\t// As well as some basic lies\r\n\t\tvar getBuggyValuesForThisBrowser = function() {\r\n\t\t\tvar buggyValues = getBuggyValuesForThisBrowser.cache;\r\n\t\t\tif(buggyValues) { return buggyValues; }\r\n\t\t\telse { buggyValues = Object.create(null); }\r\n\t\t\t\r\n\t\t\t// Edge reports initial value instead of \"initial\", we have to be cautious\r\n\t\t\tif(browserIsEdge) {\r\n\r\n\t\t\t\tbuggyValues['*'] = 1; // make 0 values automatic for longhand properties\r\n\t\t\t\t\r\n\t\t\t\t//buggyValues['list-style-position:outside'] = 0;\r\n\t\t\t\tbuggyValues['list-style-image:none'] = 1;\r\n\t\t\t\t//buggyValues['outline-color:invert'] = 0;\r\n\t\t\t\t//buggyValues['outline-style:none'] = 0;\r\n\t\t\t\t//buggyValues['outline-width:medium'] = 0;\r\n\t\t\t\t//buggyValues['background-image:none'] = 0;\r\n\t\t\t\t//buggyValues['background-attachment:scroll'] = 0;\r\n\t\t\t\t//buggyValues['background-repeat:repeat'] = 0;\r\n\t\t\t\t//buggyValues['background-repeat-x:repeat'] = 0;\r\n\t\t\t\t//buggyValues['background-repeat-y:repeat'] = 0;\r\n\t\t\t\t//buggyValues['background-position-x:0%'] = 0;\r\n\t\t\t\t//buggyValues['background-position-y:0%'] = 0;\r\n\t\t\t\t//buggyValues['background-size:auto'] = 0;\r\n\t\t\t\t//buggyValues['background-origin:padding-box'] = 0;\r\n\t\t\t\t//buggyValues['background-clip:border-box'] = 0;\r\n\t\t\t\t//buggyValues['background-color:transparent'] = 0;\r\n\t\t\t\tbuggyValues['border-top-color:currentcolor'] = 1;\r\n\t\t\t\tbuggyValues['border-right-color:currentcolor'] = 1;\r\n\t\t\t\tbuggyValues['border-bottom-color:currentcolor'] = 1;\r\n\t\t\t\tbuggyValues['border-left-color:currentcolor'] = 1;\r\n\t\t\t\t//buggyValues['border-top-style:solid'] = 0;\r\n\t\t\t\t//buggyValues['border-right-style:solid'] = 0;\r\n\t\t\t\t//buggyValues['border-bottom-style:solid'] = 0;\r\n\t\t\t\t//buggyValues['border-left-style:solid'] = 0;\r\n\t\t\t\tbuggyValues['border-top-width:medium'] = 1;\r\n\t\t\t\tbuggyValues['border-right-width:medium'] = 1;\r\n\t\t\t\tbuggyValues['border-bottom-width:medium'] = 1;\r\n\t\t\t\tbuggyValues['border-left-width:medium'] = 1;\r\n\t\t\t\tbuggyValues['border-image-source:none'] = 1;\r\n\t\t\t\tbuggyValues['border-image-outset:0'] = 1;\r\n\t\t\t\tbuggyValues['border-image-width:1'] = 1;\r\n\t\t\t\tbuggyValues['border-image-repeat:repeat'] = 1;\r\n\t\t\t\tbuggyValues['border-image-repeat-x:repeat'] = 1;\r\n\t\t\t\tbuggyValues['border-image-repeat-y:repeat'] = 1;\r\n\t\t\t\tbuggyValues['line-height:normal'] = 1;\r\n\t\t\t\t//buggyValues['font-size-adjust:none'] = 0;\r\n\t\t\t\tbuggyValues['font-stretch:normal'] = 1;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Firefox reports initial values instead of \"initial\", we have to be cautious\r\n\t\t\tif(browserIsFirefox) {\r\n\t\t\t\t\r\n\t\t\t\tbuggyValues['*'] = 1; // make 0 values automatic for longhand properties\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Attempt to force to optimize the object somehow\r\n\t\t\tObject.create(buggyValues);\r\n\t\t\t\r\n\t\t\treturn getBuggyValuesForThisBrowser.cache = buggyValues;\r\n\r\n\t\t};\r\n\t\tvar valueExistsInRootProperty = (cssText,key,rootKey,value) => {\r\n\t\t\tvalue = value.trim().toLowerCase();\r\n\t\t\t\r\n\t\t\t// detect suspicious values\r\n\t\t\tvar buggyValues = getBuggyValuesForThisBrowser();\r\n\t\t\t\r\n\t\t\t// apply common sense to the given value, per browser\r\n\t\t\tvar buggyState = buggyValues[key+':'+value];\r\n\t\t\tif(buggyState === 1) { return false; }\r\n\t\t\tif(buggyState !== 0 && (!buggyValues['*'] || CSSShorthands.unexpand(key).length == 0)) { return true; }\r\n\r\n\t\t\t// root properties are unlikely to lie\r\n\t\t\tif(key==rootKey) return false;\t\t\t\r\n\t\t\t\r\n\t\t\t// ask the browser is the best we can do right now\r\n\t\t\tvar values = value.split(/\\s+|\\s*,\\s*/g);\r\n\t\t\tvar validValues = ' ';\r\n\t\t\tvar validValuesExtractor = new RegExp(' '+rootKey+'(?:[-][-_a-zA-Z0-9]+)?[:]([^;]*)','gi');\r\n\t\t\tvar match; while(match = validValuesExtractor.exec(cssText)) {\r\n\t\t\t\tvalidValues += match[1] + ' ';\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < values.length; i++) {\r\n\t\t\t\tvar value = values[i];\r\n\t\t\t\tif(validValues.indexOf(' '+value+' ')==-1) return false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t/** This will loop over the styles declarations */\r\n\t\tfunction analyzeStyleOfRule(style, selectorText, matchedElements, type, isInline) { isInline=!!isInline;\r\n\t\t\t\r\n\t\t\t// We want to filter rules that are not actually used\r\n\t\t\tvar count = matchedElements.length;\r\n\t\t\tvar selector = selectorText;\r\n\t\t\tvar selectorCat = {'1:true':'@inline','1:false':'@stylerule'}[''+type+':'+isInline]||'@atrule';\r\n\t\t\t\r\n\t\t\t// Keep track of unused rules\r\n\t\t\tvar isRuleUnused = (count == 0);\r\n\t\t\tif(isRuleUnused) {\r\n\t\t\t\tCSSUsage.StyleWalker.amountOfSelectorsUnused++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// We need a generalized selector to collect some stats\r\n\t\t\tvar generalizedSelectors = (\r\n\t\t\t\t(selectorCat=='@stylerule')\r\n\t\t\t\t\t? [selectorCat].concat(generalizedSelectorsOf(selector))\r\n\t\t\t\t\t: [selectorCat, selector]\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\t// Get the datastores of the generalized selectors\r\n\t\t\tvar generalizedSelectorsData = map(generalizedSelectors, (generalizedSelector) => (\r\n\t\t\t\tCSSUsageResults.rules[generalizedSelector] || (CSSUsageResults.rules[generalizedSelector] = {count:0,props:Object.create(null)})\r\n\t\t\t));\r\n\t\t\t\r\n\t\t\t// Increment the occurence counter of found generalized selectors\r\n\t\t\tfor(var i = 0; i < generalizedSelectorsData.length; i++) {\r\n\t\t\t\tvar generalizedSelectorData = generalizedSelectorsData[i];\r\n\t\t\t\tgeneralizedSelectorData.count++\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// avoid most common browser lies\r\n\t\t\tvar cssText = ' '+style.cssText.toLowerCase(); \r\n\t\t\tif(browserIsEdge) {\r\n\t\t\t\tcssText = cssText.replace(/border: medium; border-image: none;/,'border: none;');\r\n\t\t\t\tcssText = cssText.replace(/ border-image: none;/,' ');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// For each property declaration in this rule, we collect some stats\r\n\t\t\tfor (var i = style.length; i--;) {\r\n\r\n\t\t\t\tvar key = style[i], rootKeyIndex=key.indexOf('-'), rootKey = rootKeyIndex==-1 ? key : key.substr(0,rootKeyIndex);\r\n\t\t\t\tvar normalizedKey = rootKeyIndex==0&&key.indexOf('-',1)==1 ? '--var' : key;\r\n\t\t\t\tvar styleValue = style.getPropertyValue(key);\r\n\t\t\t\t\r\n\t\t\t\t// Only keep styles that were declared by the author\r\n\t\t\t\t// We need to make sure we're only checking string props\r\n\t\t\t\tvar isValueInvalid = typeof styleValue !== 'string' && styleValue != \"\" && styleValue != undefined;\r\n\t\t\t\tif (isValueInvalid) { \r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar isPropertyUndefined = (cssText.indexOf(' '+key+':') == -1) && (styleValue=='initial' || !valueExistsInRootProperty(cssText, key, rootKey, styleValue));\r\n\t\t\t\tif (isPropertyUndefined) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// divide the value into simplified components\r\n\t\t\t\tvar values = CSSUsage.CSSValues.createValueArray(styleValue,normalizedKey);\r\n\t\t\t\tfor(var j=values.length; j--;) {\r\n\t\t\t\t\tvalues[j] = CSSUsage.CSSValues.parseValues(values[j],normalizedKey)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// log the property usage per selector\r\n\t\t\t\tfor(var gs = 0; gs < generalizedSelectorsData.length; gs++) {\r\n\t\t\t\t\tvar generalizedSelectorData = generalizedSelectorsData[gs];\r\n\t\t\t\t\t// get the datastore for current property\r\n\t\t\t\t\tvar propStats = generalizedSelectorData.props[normalizedKey] || (generalizedSelectorData.props[normalizedKey] = {count:0,values:Object.create(null)});\r\n\r\n\t\t\t\t\t// we saw the property one time\r\n\t\t\t\t\tpropStats.count++;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// we also saw a bunch of values\r\n\t\t\t\t\tfor(var v = 0; v < values.length; v++) {\r\n\t\t\t\t\t\tvar value = values[v];\t\t\t\t\r\n\t\t\t\t\t\t// increment the counts for those by one, too\r\n\t\t\t\t\t\tif(value.length>0) {\r\n\t\t\t\t\t\t\tpropStats.values[value] = (propStats.values[value]|0) + 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// if we may increment some counts due to this declaration\r\n\t\t\t\tif(count > 0) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// instanciate or fetch the property metadata\r\n\t\t\t\t\tvar propObject = CSSUsageResults.props[normalizedKey];\r\n\t\t\t\t\tif (!propObject) {\r\n\t\t\t\t\t\tpropObject = CSSUsageResults.props[normalizedKey] = {\r\n\t\t\t\t\t\t\tcount: 0,\r\n\t\t\t\t\t\t\tvalues: Object.create(null)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// update the occurence counts of the property and value\r\n\t\t\t\t\tfor(var e = 0; e < matchedElements.length; e++) {\r\n\t\t\t\t\t\tvar element = matchedElements[e];\r\n\r\n\t\t\t\t\t\t// check what the elements already contributed for this property\r\n\t\t\t\t\t\tvar cssUsageMeta = element.CSSUsage || (element.CSSUsage=Object.create(null));\r\n\t\t\t\t\t\tvar knownValues = cssUsageMeta[normalizedKey] || (cssUsageMeta[normalizedKey] = []);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// increment the amount of affected elements which we didn't count yet\r\n\t\t\t\t\t\tif(knownValues.length == 0) { propObject.count += 1; }\r\n\r\n\t\t\t\t\t\t// add newly found values too\r\n\t\t\t\t\t\tfor(var v = 0; v < values.length; v++) {\r\n\t\t\t\t\t\t\tvar value = values[v];\r\n\t\t\t\t\t\t\tif(knownValues.indexOf(value) >= 0) { return; }\r\n\t\t\t\t\t\t\tpropObject.values[value] = (propObject.values[value]|0) + 1;\r\n\t\t\t\t\t\t\tknownValues.push(value);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfunction finalize() {\r\n\t\t\t\r\n\t\t\t// anonymize identifiers used for animation-name\r\n\t\t\tfunction removeAnimationNames() {\r\n\t\t\t\t\r\n\t\t\t\t// anonymize identifiers used for animation-name globally\r\n\t\t\t\tif(CSSUsageResults.props[\"animation-name\"]) {\r\n\t\t\t\t\tCSSUsageResults.props[\"animation-name\"].values = {\"<custom-ident>\":CSSUsageResults.props[\"animation-name\"].count};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// anonymize identifiers used for animation-name per selector\r\n\t\t\t\tfor(var selector in CSSUsageResults.rules) { \r\n\t\t\t\t\tvar rule = CSSUsageResults.rules[selector];\r\n\t\t\t\t\tif(rule && rule.props && rule.props[\"animation-name\"]) {\r\n\t\t\t\t\t\trule.props[\"animation-name\"].values = {\"<custom-ident>\":rule.props[\"animation-name\"].count};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tremoveAnimationNames();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t//-------------------------------------------------------------------------\r\n\r\n\t\t/**\r\n\t\t * If you try to do querySelectorAll on pseudo selectors\r\n\t\t * it returns 0 because you are not actually doing the action the pseudo is stating those things,\r\n\t\t * but we will honor those declarations and we don't want them to be missed,\r\n\t\t * so we remove the pseudo selector from the selector text\r\n\t\t */\r\n\t\tfunction cleanSelectorText(text) {\r\n\t\t\tif(text.indexOf(':') == -1) {\r\n\t\t\t\treturn text;\r\n\t\t\t} else {\r\n\t\t\t\treturn text.replace(/([-_a-zA-Z0-9*\\[\\]]?):(?:hover|active|focus|before|after|not\\(:(hover|active|focus)\\))|::(?:before|after)/gi, '>>$1<<').replace(/(^| |>|\\+|~)>><</g,'$1*').replace(/\\(>><<\\)/g,'(*)').replace(/>>([-_a-zA-Z0-9*\\[\\]]?)<</g,'$1');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Returns an anonymized version of the selector.\r\n\t\t * @example \"#menu.open:hover>a.submenu\" => \"#id.class:hover > a.class\"\r\n\t\t */\r\n\t\tfunction generalizedSelectorsOf(value) {\r\n\t\t\t\r\n\t\t\t// Trim\r\n\t\t\tvalue = value.trim();\r\n\t\t\t\r\n\t\t\t// Collapse whitespace\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue = value.replace(/\\s+/g, \" \");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Remove (...)\r\n\t\t\tif (value.indexOf(\"(\") != -1) {\r\n\t\t\t\tvalue = value.replace(/[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \"\");\r\n\t\t\t\tvalue = value.replace(/[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]+|[(](?:[^()]*)[)])*[)])*[)])*[)])*[)]/g, \"\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Simplify \"...\" and '...'\r\n\t\t\tvalue = value.replace(/\"([^\"\\\\]|\\\\[^\"\\\\]|\\\\\\\\|\\\\\")*\"/g,'\"\"')\r\n\t\t\tvalue = value.replace(/'([^'\\\\]|\\\\[^'\\\\]|\\\\\\\\|\\\\')*'/g,\"''\");\r\n\r\n\t\t\t\r\n\t\t\t// Simplify [att]\r\n\t\t\tif (value.indexOf(\"[\") != -1) {\r\n\t\t\t\tvalue = value.replace(/\\[[^=\\[\\]]+=\"([^\"\\\\]|\\\\[^\"\\\\]|\\\\\\\\|\\\\\")*\"\\]/g, \"[a]\");\r\n\t\t\t\tvalue = value.replace(/\\[[^=\\[\\]]+='([^'\\\\]|\\\\[^'\\\\]|\\\\\\\\|\\\\')*'\\]/g, \"[a]\");\r\n\t\t\t\tvalue = value.replace(/\\[[^\\[\\]]+\\]/g, \"[a]\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Simplify .class\r\n\t\t\tif (value.indexOf(\".\") != -1) {\r\n\t\t\t\tvalue = value.replace(/[.][-_a-zA-Z][-_a-zA-Z0-9]*/g, \".c\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Simplify #id\r\n\t\t\tif (value.indexOf(\"#\") != -1) {\r\n\t\t\t\tvalue = value.replace(/[#][-_a-zA-Z][-_a-zA-Z0-9]*/g, \"#i\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Normalize combinators\r\n\t\t\tvalue = value.replace(/[ ]*([>|+|~])[ ]*/g,' $1 ');\r\n\t\t\t\r\n\t\t\t// Trim whitespace\r\n\t\t\tvalue = value.trim();\r\n\t\t\t\r\n\t\t\t// Remove unnecessary * to match Chrome\r\n\t\t\tvalue = value.replace(/[*]([#.\\x5B:])/g,'$1');\r\n\t\t\t\r\n\t\t\t// Now we can sort components so that all browsers give results similar to Chrome\r\n\t\t\tvalue = sortSelectorComponents(value)\r\n\t\t\t\r\n\t\t\t// Split multiple selectors\r\n\t\t\tvalue = value.split(/\\s*,\\s*/g);\r\n\r\n\t\t\treturn value;\r\n\r\n\t\t}\r\n\t\t\r\n\t\tvar ID_REGEXP = \"[#]i\";         // #id\r\n\t\tvar CLASS_REGEXP = \"[.]c\";      // .class\r\n\t\tvar ATTR_REGEXP = \"\\\\[a\\\\]\";    // [att]\r\n\t\tvar PSEUDO_REGEXP = \"[:][:]?[-_a-zA-Z][-_a-zA-Z0-9]*\"; // :pseudo\r\n\t\tvar SORT_REGEXPS = [\r\n\t\t\t\r\n\t\t\t// #id first\r\n\t\t\tnew RegExp(\"(\"+CLASS_REGEXP+\")(\"+ID_REGEXP+\")\",'g'),\r\n\t\t\tnew RegExp(\"(\"+ATTR_REGEXP+\")(\"+ID_REGEXP+\")\",'g'),\r\n\t\t\tnew RegExp(\"(\"+PSEUDO_REGEXP+\")(\"+ID_REGEXP+\")\",'g'),\r\n\t\t\t\r\n\t\t\t// .class second\r\n\t\t\tnew RegExp(\"(\"+ATTR_REGEXP+\")(\"+CLASS_REGEXP+\")\",'g'),\r\n\t\t\tnew RegExp(\"(\"+PSEUDO_REGEXP+\")(\"+CLASS_REGEXP+\")\",'g'),\r\n\t\t\t\r\n\t\t\t// [attr] third\r\n\t\t\tnew RegExp(\"(\"+PSEUDO_REGEXP+\")(\"+ATTR_REGEXP+\")\",'g'),\r\n\t\t\t\r\n\t\t\t// :pseudo last\r\n\t\t\t\r\n\t\t];\r\n\t\tfunction sortSelectorComponents(value) {\r\n\t\t\t\r\n\t\t\tvar oldValue; do { // Yeah this is a very inefficient bubble sort. I know.\r\n\t\t\t\t\r\n\t\t\t\toldValue = value;\r\n\t\t\t\tfor(var i = 0; i < SORT_REGEXPS.length; i++) {\r\n\t\t\t\t\tvar wrongPair = SORT_REGEXPS[i];\r\n\t\t\t\t\tvalue = value.replace(wrongPair,'$2$1');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} while(oldValue != value); return value;\r\n\r\n\t\t}\r\n\r\n\t}();\r\n\r\n\t//\r\n\t// extracts valuable informations about selectors in use\r\n\t//\r\n\tvoid function() {\r\n\t\t\r\n\t\t// \r\n\t\t// To understand framework and general css usage, we collect stats about classes, ids and pseudos.\r\n\t\t// Those objects have the following shape: \r\n\t\t// {\"hover\":5,\"active\":1,\"focus\":2}\r\n\t\t// \r\n\t\tvar cssPseudos = Object.create(null); // collect stats about which pseudo-classes and pseudo-elements are used in the css\r\n\t\tvar domClasses = Object.create(null); // collect stats about which css classes are found in the <... class> attributes of the dom\r\n\t\tvar cssClasses = Object.create(null); // collect stats about which css classes are used in the css\r\n\t\tvar domIds = Object.create(null);     // collect stats about which ids are found in the <... id> attributes of the dom\r\n\t\tvar cssIds = Object.create(null);     // collect stats about which ids are used in the css\r\n\t\t\r\n\t\t// \r\n\t\t// To understand Modernizer usage, we need to know how often some classes are used at the front of a selector\r\n\t\t// While we're at it, the code also collect the state for ids\r\n\t\t// \r\n\t\tvar cssLonelyIdGates = Object.create(null);    // .class something-else ==> {\"class\":1}\r\n\t\tvar cssLonelyClassGates = Object.create(null); // #id something-else ==> {\"id\":1}\r\n\t\tvar cssLonelyClassGatesMatches = [];           // .class something-else ==> [\".class something-else\"]\r\n\t\tvar cssLonelyIdGatesMatches = [];              // #id something-else ==> [\"#id something-else\"]\r\n\t\t\r\n\t\t//\r\n\t\t// These regular expressions catch patterns we want to track (see before)\r\n\t\t//\r\n\t\tvar ID_REGEXP = /[#][-_a-zA-Z][-_a-zA-Z0-9]*/g;     // #id\r\n\t\tvar ID_REGEXP1 = /[#][-_a-zA-Z][-_a-zA-Z0-9]*/;     // #id (only the first one)\r\n\t\tvar CLASS_REGEXP = /[.][-_a-zA-Z][-_a-zA-Z0-9]*/g;  // .class\r\n\t\tvar CLASS_REGEXP1 = /[.][-_a-zA-Z][-_a-zA-Z0-9]*/;  // .class (only the first one)\r\n\t\tvar PSEUDO_REGEXP = /[:][-_a-zA-Z][-_a-zA-Z0-9]*/g; // :pseudo (only the )\r\n\t\tvar GATEID_REGEXP = /^\\s*[#][-_a-zA-Z][-_a-zA-Z0-9]*([.][-_a-zA-Z][-_a-zA-Z0-9]*|[:][-_a-zA-Z][-_a-zA-Z0-9]*)*\\s+[^>+{, ][^{,]+$/; // #id ...\r\n\t\tvar GATECLASS_REGEXP = /^\\s*[.][-_a-zA-Z][-_a-zA-Z0-9]*([:][-_a-zA-Z][-_a-zA-Z0-9]*)*\\s+[^>+{, ][^{,]+$/; // .class ...\r\n\t\t\r\n\t\t/**\r\n\t\t * From a css selector text and a set of counters, \r\n\t\t * increment the counters for the matches in the selector of the 'feature' regular expression\r\n\t\t */\r\n\t\tfunction extractFeature(feature, selector, counters) {\r\n\t\t\tvar instances = selector.match(feature)||[];\r\n\t\t\tfor(var i = 0; i < instances.length; i++) {\r\n\t\t\t\tvar instance = instances[i];\r\n\t\t\t\tinstance = instance.substr(1);\r\n\t\t\t\tcounters[instance] = (counters[instance]|0) + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * This analyzer will collect over the selectors the stats defined before\r\n\t\t */\r\n\t\tCSSUsage.SelectorAnalyzer = function parseSelector(style, selectorsText) {\r\n\t\t\tif(typeof selectorsText != 'string') return;\r\n\t\t\t\t\r\n\t\t\tvar selectors = selectorsText.split(',');\r\n\t\t\tfor(var i = selectors.length; i--;) { var selector = selectors[i];\r\n\t\t\t\t\r\n\t\t\t\t// extract all features from the selectors\r\n\t\t\t\textractFeature(ID_REGEXP, selector, cssIds);\r\n\t\t\t\textractFeature(CLASS_REGEXP, selector, cssClasses);\r\n\t\t\t\textractFeature(PSEUDO_REGEXP, selector, cssPseudos);\r\n\t\t\t\t\r\n\t\t\t\t// detect specific selector patterns we're interested in\r\n\t\t\t\tif(GATEID_REGEXP.test(selector)) {\r\n\t\t\t\t\tcssLonelyIdGatesMatches.push(selector);\r\n\t\t\t\t\textractFeature(ID_REGEXP1, selector, cssLonelyIdGates);\r\n\t\t\t\t}\r\n\t\t\t\tif(GATECLASS_REGEXP.test(selector)) {\r\n\t\t\t\t\tcssLonelyClassGatesMatches.push(selector);\r\n\t\t\t\t\textractFeature(CLASS_REGEXP1, selector, cssLonelyClassGates);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * This analyzer will collect over the dom elements the stats defined before\r\n\t\t */\r\n\t\tCSSUsage.DOMClassAnalyzer = function(element) {\r\n\t\t\t\r\n\t\t\t// collect classes used in the wild\r\n\t\t\tif(element.className) {\r\n\t\t\t\tvar elementClasses = element.classList;\r\n\t\t\t\tfor(var cl = 0; cl < elementClasses.length; cl++) {\r\n\t\t\t\t\tvar c = elementClasses[cl];\r\n\t\t\t\t\tdomClasses[c] = (domClasses[c]|0) + 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// collect ids used in the wild\r\n\t\t\tif(element.id) {\r\n\t\t\t\tdomIds[element.id] = (domIds[element.id]|0) + 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * This function will be called when all stats have been collected\r\n\t\t * at which point we will agregate some of them in useful values like Bootstrap usages, etc...\r\n\t\t */\r\n\t\tCSSUsage.SelectorAnalyzer.finalize = function() {\r\n\t\t\t\r\n\t\t\t// get arrays of the classes/ids used ({\"hover\":5} => [\"hover\"]))\r\n\t\t\tvar domClassesArray = Object.keys(domClasses);\r\n\t\t\tvar cssClassesArray = Object.keys(cssClasses);\r\n\t\t\tvar domIdsArray = Object.keys(domIds);\r\n\t\t\tvar cssIdsArray = Object.keys(cssIds);\r\n\r\n\t\t\tvar results = {\t\t\t\t\r\n\t\t\t\t// how many crawls are aggregated in this file (one of course in this case)\r\n\t\t\t\tSuccessfulCrawls: 1,\r\n\t\t\t\t\r\n\t\t\t\t// how many elements on the page (used to compute percentages for css.props)\r\n\t\t\t\tDOMElements: document.all.length,\r\n\t\t\t\t\r\n\t\t\t\t// how many selectors vs inline style, and other usage stats\r\n\t\t\t\tSelectorsFound: CSSUsage.StyleWalker.amountOfSelectors,\r\n\t\t\t\tInlineStylesFound: CSSUsage.StyleWalker.amountOfInlineStyles,\r\n\t\t\t\tSelectorsUnused: CSSUsage.StyleWalker.amountOfSelectorsUnused,\r\n\t\t\t\t\r\n\t\t\t\t// ids stats\r\n\t\t\t\tIdsUsed: domIdsArray.length,\r\n\t\t\t\tIdsRecognized: Object.keys(cssIds).length,\r\n\t\t\t\tIdsUsedRecognized: filter(domIdsArray, i => cssIds[i]).length,\r\n\t\t\t\t\r\n\t\t\t\t// classes stats\r\n\t\t\t\tClassesUsed: domClassesArray.length,\r\n\t\t\t\tClassesRecognized: Object.keys(cssClasses).length,\r\n\t\t\t\tClassesUsedRecognized: filter(domClassesArray, c => cssClasses[c]).length,\t\t\t\t\r\n\t\t\t};\r\n\r\n\t\t\tresults = getFwkUsage(results, cssLonelyClassGates, domClasses, domIds, cssLonelyIdGates, cssClasses);\r\n\t\t\tresults = getPatternUsage(results, domClasses, cssClasses);\r\n\t\t\t\r\n\t\t\tCSSUsageResults.usages = results;\r\n\t\t\tif(window.debugCSSUsage) console.log(CSSUsageResults.usages);\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\t\r\n\t}();\r\n\r\n\t//\r\n\t// Execution scheduler:\r\n\t// This is where we decide what to run, and when\r\n\t//\r\n\tvoid function() {\r\n\r\n\t\tif(document.readyState !== 'complete') {\r\n\t\t\t\r\n\t\t\t// if the document is loading, run when it loads or in 10s, whichever is less\r\n\t\t\twindow.addEventListener('load', onready);\r\n\t\t\tsetTimeout(onready, 10000);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\t// if the document is ready, run now\r\n\t\t\tonready();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * This is the main entrypoint of our script\r\n\t\t */\r\n\t\tfunction onready() {\r\n\t\t\t\r\n\t\t\t// Uncomment if you want to set breakpoints when running in the console\r\n\t\t\t//debugger;\r\n\t\t\t\r\n\t\t\t// Prevent this code from running multiple times\r\n\t\t\tvar firstTime = !onready.hasAlreadyRun; onready.hasAlreadyRun = true;\r\n\t\t\tif(!firstTime) { return; /* for now... */ }\r\n\t\t\t\r\n\t\t\t// Prevent this code from running when the page has no stylesheet (probably a redirect page)\r\n\t\t\tif(document.styleSheets.length == 0) { return; }\r\n\r\n\t\t\t// Keep track of duration\r\n\t\t\tvar startTime = performance.now();\r\n\r\n\t\t\t// register tools\r\n\t\t\tCSSUsage.StyleWalker.ruleAnalyzers.push(CSSUsage.PropertyValuesAnalyzer);\r\n\t\t\tCSSUsage.StyleWalker.ruleAnalyzers.push(CSSUsage.SelectorAnalyzer);\r\n\t\t\tCSSUsage.StyleWalker.elementAnalyzers.push(CSSUsage.DOMClassAnalyzer);\r\n\t\t\tCSSUsage.StyleWalker.elementAnalyzers.push(HtmlUsage.GetNodeName);\r\n\r\n\t\t\t// perform analysis\r\n\t\t\tCSSUsage.StyleWalker.walkOverDomElements();\r\n\t\t\tCSSUsage.StyleWalker.walkOverCssStyles();\r\n\t\t\tCSSUsage.PropertyValuesAnalyzer.finalize();\r\n\t\t\tCSSUsage.SelectorAnalyzer.finalize();\r\n\r\n\t\t\t// Update duration\r\n\t\t\tCSSUsageResults.duration = (performance.now() - startTime)|0;\r\n\r\n\t\t\t// DO SOMETHING WITH THE CSS OBJECT HERE\r\n\t\t\tif(window.debugCSSUsage) console.log(CSSUsageResults);\r\n\t\t\tif(window.onCSSUsageResults) {\r\n\t\t\t\twindow.onCSSUsageResults(CSSUsageResults);\r\n\t\t\t};\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\t}();\r\n\t\r\n} catch (ex) { /* do something maybe */ throw ex; } }();"]}